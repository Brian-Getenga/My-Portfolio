{% extends 'base.html' %}
{% load static %}
{% load math_filters %}

{% block title %}Services - {{ site_settings.site_name }}{% endblock %}
{% block meta_description %}Professional web development, design, and consulting services. From custom websites to full-stack applications, I deliver quality solutions tailored to your needs.{% endblock %}

{% block extra_css %}
<style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=DM+Sans:wght@300;400;500;600&family=DM+Mono:wght@400;500&display=swap');
    :root{--navy:#0a0f2e;--navy-mid:#141b4d;--gold:#c9932a;--gold-light:#e8b84b;--gold-muted:#8a6520;--cream:#f8f4ef;--cream-dark:#ede8e0;--charcoal:#2c2c3e;--muted:#6b6b7f;}
    *{font-family:'DM Sans',sans-serif;}
    .font-display{font-family:'Playfair Display',Georgia,serif;}
    .font-mono{font-family:'DM Mono',monospace;}
    body{background:var(--cream);color:var(--charcoal);}

    .services-hero{background:var(--navy);position:relative;overflow:hidden;}
    .services-hero::before{content:'';position:absolute;inset:0;background-image:linear-gradient(rgba(201,147,42,.04) 1px,transparent 1px),linear-gradient(90deg,rgba(201,147,42,.04) 1px,transparent 1px);background-size:60px 60px;}
    .blob{position:absolute;border-radius:50%;filter:blur(100px);pointer-events:none;}

    /* Service cards */
    .service-card{background:#fff;border:1px solid var(--cream-dark);padding:2.5rem;display:flex;flex-direction:column;transition:all .35s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;text-decoration:none;color:inherit;}
    .service-card::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,var(--gold),var(--gold-light));transform:scaleX(0);transform-origin:left;transition:transform .35s ease;}
    .service-card:hover{transform:translateY(-8px);box-shadow:0 20px 60px rgba(10,15,46,.1);border-color:rgba(201,147,42,.2);}
    .service-card:hover::before{transform:scaleX(1);}
    .service-icon{width:56px;height:56px;background:var(--navy);display:flex;align-items:center;justify-content:center;margin-bottom:1.5rem;transition:transform .3s;}
    .service-card:hover .service-icon{transform:scale(1.1);}
    .service-icon i{color:var(--gold);font-size:1.25rem;}
    .service-title{font-family:'Playfair Display',serif;font-size:1.375rem;color:var(--navy);margin-bottom:.75rem;line-height:1.3;transition:color .2s;}
    .service-card:hover .service-title{color:var(--gold-muted);}
    .service-desc{font-size:.875rem;color:var(--muted);line-height:1.7;flex:1;margin-bottom:1.5rem;}
    .feature-list{list-style:none;padding:0;margin-bottom:1.5rem;}
    .feature-list li{display:flex;align-items:center;gap:.625rem;font-size:.8rem;color:var(--charcoal);padding:.375rem 0;border-bottom:1px solid var(--cream-dark);}
    .feature-list li:last-child{border-bottom:none;}
    .feature-list li i{color:var(--gold);font-size:.65rem;}
    .service-footer{display:flex;align-items:center;justify-content:space-between;padding-top:1.25rem;border-top:1px solid var(--cream-dark);}
    .service-price{font-family:'Playfair Display',serif;font-size:1.5rem;color:var(--navy);}
    .service-price-label{font-family:'DM Mono',monospace;font-size:.6rem;letter-spacing:.1em;text-transform:uppercase;color:var(--muted);display:block;margin-bottom:.25rem;}
    .link-arrow{font-family:'DM Mono',monospace;font-size:.65rem;letter-spacing:.1em;text-transform:uppercase;color:var(--gold-muted);display:inline-flex;align-items:center;gap:.375rem;transition:all .2s;}
    .service-card:hover .link-arrow{color:var(--gold);gap:.625rem;}

    /* Pricing table */
    .pricing-card{background:#fff;border:1px solid var(--cream-dark);padding:2.5rem;position:relative;display:flex;flex-direction:column;transition:all .3s ease;}
    .pricing-card:hover{box-shadow:0 16px 50px rgba(10,15,46,.08);}
    .pricing-card.featured{border-color:var(--gold);transform:translateY(-8px);}
    .pricing-card.featured:hover{transform:translateY(-12px);}
    .featured-badge{position:absolute;top:-1px;left:50%;transform:translateX(-50%);background:var(--gold);color:#fff;font-family:'DM Mono',monospace;font-size:.6rem;letter-spacing:.15em;text-transform:uppercase;padding:.35rem 1.25rem;white-space:nowrap;}
    .plan-name{font-family:'Playfair Display',serif;font-size:1.5rem;color:var(--navy);margin-bottom:.375rem;}
    .plan-desc{font-size:.875rem;color:var(--muted);margin-bottom:1.5rem;}
    .plan-price{font-family:'Playfair Display',serif;font-size:3.5rem;font-weight:700;color:var(--navy);line-height:1;}
    .plan-period{font-size:.875rem;color:var(--muted);margin-left:.25rem;}
    .plan-original{font-size:1rem;color:var(--muted);text-decoration:line-through;display:block;margin-top:.25rem;}
    .plan-features{list-style:none;padding:0;margin:1.75rem 0;flex:1;}
    .plan-feature{display:flex;align-items:flex-start;gap:.75rem;padding:.625rem 0;border-bottom:1px solid var(--cream-dark);font-size:.875rem;}
    .plan-feature:last-child{border-bottom:none;}
    .plan-check{width:24px;height:24px;background:rgba(22,163,74,.1);border:1px solid rgba(22,163,74,.2);display:flex;align-items:center;justify-content:center;flex-shrink:0;}
    .plan-check i{color:#16a34a;font-size:.6rem;}
    .btn-plan{display:flex;align-items:center;justify-content:center;gap:.625rem;padding:1rem;font-size:.75rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;text-decoration:none;border:1px solid;transition:all .25s;width:100%;}
    .btn-plan.primary{background:var(--navy);color:var(--gold-light);border-color:var(--navy);}
    .btn-plan.primary:hover{background:#1e2a6e;border-color:var(--gold);}
    .btn-plan.secondary{background:transparent;color:var(--charcoal);border-color:var(--cream-dark);}
    .btn-plan.secondary:hover{border-color:var(--navy);color:var(--navy);}

    /* Process */
    .process-timeline{position:relative;max-width:680px;margin:0 auto;}
    .process-timeline::before{content:'';position:absolute;left:1.75rem;top:3.5rem;bottom:2rem;width:1px;background:linear-gradient(to bottom,var(--gold),rgba(201,147,42,.1));}
    .process-item{display:flex;gap:1.75rem;padding-bottom:3rem;position:relative;}
    .process-num{width:52px;height:52px;background:var(--navy);border:2px solid var(--gold);display:flex;align-items:center;justify-content:center;flex-shrink:0;font-family:'Playfair Display',serif;font-size:1.25rem;font-weight:700;color:var(--gold-light);position:relative;z-index:1;}
    .process-body{padding-top:.5rem;flex:1;}
    .process-body h3{font-weight:600;font-size:1.1rem;color:var(--navy);margin-bottom:.5rem;}
    .process-body p{font-size:.875rem;line-height:1.7;color:var(--muted);}
    .process-dur{font-family:'DM Mono',monospace;font-size:.65rem;letter-spacing:.1em;color:var(--muted);display:inline-flex;align-items:center;gap:.375rem;margin-top:.75rem;}

    /* Testimonials */
    .testimonial-card{background:#fff;border:1px solid var(--cream-dark);padding:2rem;position:relative;}
    .testimonial-card::before{content:'';position:absolute;top:0;left:0;bottom:0;width:3px;background:linear-gradient(to bottom,var(--gold),var(--gold-light));}
    .stars{display:flex;gap:.25rem;margin-bottom:1rem;}
    .stars i{color:var(--gold);font-size:.875rem;}
    .testimonial-text{font-style:italic;line-height:1.75;color:var(--charcoal);margin-bottom:1.5rem;font-size:.95rem;}
    .testimonial-avatar{width:48px;height:48px;background:var(--navy);display:flex;align-items:center;justify-content:center;font-family:'Playfair Display',serif;font-size:1.25rem;font-weight:700;color:var(--gold-light);flex-shrink:0;}
    .testimonial-name{font-weight:600;color:var(--navy);}
    .testimonial-role{font-size:.8rem;color:var(--muted);font-family:'DM Mono',monospace;}

    .section-label{font-family:'DM Mono',monospace;font-size:.65rem;letter-spacing:.2em;text-transform:uppercase;color:var(--gold);display:flex;align-items:center;gap:1rem;margin-bottom:3rem;}
    .section-label::before{content:'';width:3rem;height:1px;background:var(--cream-dark);}
    .section-label::after{content:'';flex:1;height:1px;background:var(--cream-dark);}

    .cta-section{background:var(--navy);position:relative;overflow:hidden;}
    .cta-section::before{content:'';position:absolute;inset:0;background-image:linear-gradient(rgba(201,147,42,.04) 1px,transparent 1px),linear-gradient(90deg,rgba(201,147,42,.04) 1px,transparent 1px);background-size:60px 60px;}
    .btn-white{display:inline-flex;align-items:center;gap:.625rem;padding:.875rem 1.75rem;background:#fff;color:var(--navy);font-size:.75rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;text-decoration:none;border:1px solid #fff;transition:all .25s ease;}
    .btn-white:hover{background:var(--cream);}
    .btn-ghost{display:inline-flex;align-items:center;gap:.625rem;padding:.875rem 1.75rem;background:transparent;color:#fff;font-size:.75rem;font-weight:600;letter-spacing:.1em;text-transform:uppercase;text-decoration:none;border:1px solid rgba(255,255,255,.35);transition:all .25s ease;}
    .btn-ghost:hover{background:rgba(255,255,255,.08);}

    @keyframes fadeUp{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}
    .fade-up{animation:fadeUp .7s ease forwards;}
    .d1{animation-delay:.1s;opacity:0;}.d2{animation-delay:.2s;opacity:0;}.d3{animation-delay:.3s;opacity:0;}
</style>
{% endblock %}

{% block content %}

<!-- Hero -->
<section class="services-hero pt-40 pb-28">
    <div class="blob w-[600px] h-[600px] opacity-10" style="background:radial-gradient(circle,#4f46e5,transparent);top:-200px;left:-100px;"></div>
    <div class="blob w-[400px] h-[400px] opacity-10" style="background:radial-gradient(circle,var(--gold),transparent);bottom:-100px;right:0;"></div>
    <div class="container mx-auto px-6 lg:px-8 max-w-4xl text-center relative z-10">
        <span class="font-mono text-xs tracking-widest text-amber-400 uppercase fade-up">What I Offer</span>
        <h1 class="font-display text-6xl lg:text-7xl text-white mt-3 leading-none fade-up d1">Professional<br><em class="text-amber-300">Services</em></h1>
        <p class="text-slate-400 text-xl max-w-2xl mx-auto mt-6 leading-relaxed fade-up d2">Comprehensive solutions from concept to deployment. Built with precision, delivered with care.</p>
    </div>
</section>

<!-- Services Grid -->
<section class="py-20" style="background:var(--cream)">
    <div class="container mx-auto px-6 lg:px-8 max-w-7xl">
        {% if services %}
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for service in services %}
            <a href="{{ service.get_absolute_url }}" class="service-card" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|mul:80 }}">
                <div class="service-icon"><i class="{{ service.icon_class|default:'fas fa-code' }}"></i></div>
                <h3 class="service-title">{{ service.title }}</h3>
                <p class="service-desc">{{ service.short_description|default:service.description|truncatewords:20 }}</p>
                {% if service.features %}
                <ul class="feature-list">
                    {% for feat in service.feature_list|slice:":3" %}
                    <li><i class="fas fa-check-circle"></i>{{ feat }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
                <div class="service-footer">
                    <div>
                        {% if service.price %}<span class="service-price-label">Starting at</span><span class="service-price">${{ service.price }}</span>{% else %}<span class="service-price-label">Pricing</span><span class="service-price" style="font-size:1.1rem">Custom Quote</span>{% endif %}
                    </div>
                    <span class="link-arrow">Learn More <i class="fas fa-arrow-right text-xs"></i></span>
                </div>
            </a>
            {% endfor %}
        </div>
        {% else %}
        <div class="text-center py-20"><div class="w-24 h-24 mx-auto mb-6 flex items-center justify-center" style="background:var(--cream-dark)"><i class="fas fa-briefcase text-4xl" style="color:var(--muted)"></i></div><h3 class="font-display text-3xl mb-3" style="color:var(--navy)">Services Coming Soon</h3><p style="color:var(--muted)">Check back soon for available services.</p></div>
        {% endif %}
    </div>
</section>

<!-- Pricing -->
{% if pricing_tiers %}
<section class="py-20 lg:py-28 bg-white">
    <div class="container mx-auto px-6 lg:px-8 max-w-6xl">
        <div class="text-center mb-16" data-aos="fade-up">
            <div class="section-label">Transparent Pricing</div>
            <h2 class="font-display text-5xl" style="color:var(--navy)">Choose Your <em style="color:var(--gold-muted)">Plan</em></h2>
            <p class="mt-4 text-lg" style="color:var(--muted)">Flexible pricing designed to fit your needs and budget</p>
        </div>
        <div class="grid md:grid-cols-3 gap-6 items-start">
            {% for tier in pricing_tiers %}
            <div class="pricing-card {% if tier.featured %}featured{% endif %}" data-aos="zoom-in" data-aos-delay="{{ forloop.counter0|mul:80 }}">
                {% if tier.featured %}<div class="featured-badge">Most Popular</div>{% endif %}
                <div class="mt-4">
                    <div class="plan-name">{{ tier.name }}</div>
                    <p class="plan-desc">{{ tier.description }}</p>
                    <div class="flex items-baseline gap-1">
                        <span class="plan-price">${{ tier.price }}</span>
                        {% if tier.billing_period %}<span class="plan-period">/{{ tier.billing_period }}</span>{% endif %}
                    </div>
                    {% if tier.original_price %}<span class="plan-original">${{ tier.original_price }}</span>{% endif %}
                </div>
                <ul class="plan-features">
                    {% for feature in tier.feature_list %}
                    <li class="plan-feature"><div class="plan-check"><i class="fas fa-check"></i></div><span>{{ feature }}</span></li>
                    {% endfor %}
                </ul>
                <a href="{% url 'contact' %}?service={{ tier.slug }}" class="btn-plan {% if tier.featured %}primary{% else %}secondary{% endif %}">
                    {{ tier.cta_text|default:"Get Started" }}
                </a>
            </div>
            {% endfor %}
        </div>
        <p class="text-center mt-10 text-sm" style="color:var(--muted)" data-aos="fade-up">Need something custom? <a href="{% url 'contact' %}" style="color:var(--gold-muted);font-weight:600;text-decoration:none">Contact me</a> for a tailored quote.</p>
    </div>
</section>
{% endif %}

<!-- Process -->
<section class="py-20 lg:py-28" style="background:var(--cream)">
    <div class="container mx-auto px-6 lg:px-8 max-w-5xl">
        <div class="text-center mb-16" data-aos="fade-up">
            <div class="section-label">Methodology</div>
            <h2 class="font-display text-5xl" style="color:var(--navy)">How I <em style="color:var(--gold-muted)">Work</em></h2>
            <p class="mt-4 text-lg" style="color:var(--muted)">A proven, collaborative process designed to deliver exceptional results</p>
        </div>
        <div class="process-timeline">
            {% for step in process_steps %}
            <div class="process-item" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|mul:80 }}">
                <div class="process-num">{{ forloop.counter }}</div>
                <div class="process-body">
                    <h3>{{ step.title }}</h3>
                    <p>{{ step.description }}</p>
                    {% if step.duration %}<span class="process-dur"><i class="fas fa-clock"></i>{{ step.duration }}</span>{% endif %}
                </div>
            </div>
            {% empty %}
            {% for step in "1234"|make_list %}
            {% with i=forloop.counter %}
            <div class="process-item" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|mul:80 }}">
                <div class="process-num">{{ i }}</div>
                <div class="process-body">
                    <h3>{% if i == 1 %}Discovery &amp; Planning{% elif i == 2 %}Design &amp; Prototyping{% elif i == 3 %}Development &amp; Testing{% else %}Launch &amp; Support{% endif %}</h3>
                    <p>{% if i == 1 %}We discuss your goals, requirements, and vision. I'll analyze your needs and create a detailed project plan that sets us up for success.{% elif i == 2 %}I create wireframes and interactive prototypes. You'll see your vision come to life before development begins.{% elif i == 3 %}Clean, efficient code following best practices. Rigorous testing ensures everything works perfectly across all devices.{% else %}Smooth deployment to production. Ongoing support and maintenance to keep everything running at peak performance.{% endif %}</p>
                    <span class="process-dur"><i class="fas fa-clock"></i>{% if i == 1 %}1–2 weeks{% elif i == 2 %}1–3 weeks{% elif i == 3 %}3–8 weeks{% else %}Ongoing{% endif %}</span>
                </div>
            </div>
            {% endwith %}
            {% endfor %}
            {% endfor %}
        </div>
    </div>
</section>

<!-- Testimonials -->
{% if testimonials %}
<section class="py-20 bg-white">
    <div class="container mx-auto px-6 lg:px-8 max-w-6xl">
        <div class="section-label">Client Testimonials</div>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-5">
            {% for t in testimonials|slice:":6" %}
            <div class="testimonial-card" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|mul:60 }}">
                <div class="stars">{% for i in "12345"|make_list %}<i class="fas fa-star"></i>{% endfor %}</div>
                <p class="testimonial-text">"{{ t.content }}"</p>
                <div class="flex items-center gap-3">
                    {% if t.avatar %}<img src="{{ t.avatar.url }}" alt="{{ t.name }}" class="testimonial-avatar">
                    {% else %}<div class="testimonial-avatar">{{ t.name|first }}</div>{% endif %}
                    <div>
                        <div class="testimonial-name">{{ t.name }}</div>
                        <div class="testimonial-role">{{ t.position }}, {{ t.company }}</div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- CTA -->
<section class="cta-section py-28">
    <div class="blob w-96 h-96 opacity-10" style="background:radial-gradient(circle,var(--gold),transparent);top:50%;left:-100px;transform:translateY(-50%)"></div>
    <div class="container mx-auto px-6 lg:px-8 max-w-3xl text-center relative z-10" data-aos="fade-up">
        <span class="font-mono text-xs tracking-widest text-amber-400 uppercase">Let's Collaborate</span>
        <h2 class="font-display text-5xl text-white mt-4 mb-5 leading-tight">Ready to<br><em class="text-amber-300">Get Started?</em></h2>
        <p class="text-slate-400 text-lg mb-10 leading-relaxed">Let's discuss your project and create a custom solution that exceeds your expectations.</p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="{% url 'contact' %}" class="btn-white"><i class="fas fa-paper-plane text-xs"></i>Start a Project</a>
            <a href="{% url 'projects' %}" class="btn-ghost"><i class="fas fa-folder text-xs"></i>View Portfolio</a>
        </div>
    </div>
</section>

{% endblock %}

{% block extra_js %}
<script>
AOS.init({duration:900,once:true,offset:80});
</script>
{% endblock %}