{% extends 'base.html' %}
{% load static %}

{% block title %}Page Not Found (404) - {{ site_settings.site_name }}{% endblock %}
{% block meta_description %}Oops! The page you're looking for doesn't exist.{% endblock %}

{% block extra_css %}
<style>
    @keyframes float-404 {
        0%, 100% { transform: translateY(0) rotate(-5deg); }
        50% { transform: translateY(-20px) rotate(5deg); }
    }
    
    @keyframes glitch {
        0%, 100% { transform: translate(0); }
        20% { transform: translate(-2px, 2px); }
        40% { transform: translate(-2px, -2px); }
        60% { transform: translate(2px, 2px); }
        80% { transform: translate(2px, -2px); }
    }
    
    @keyframes particle-float {
        0% { transform: translateY(0) rotate(0deg); opacity: 1; }
        100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
    }
    
    @keyframes pulse-ring {
        0% { transform: scale(0.9); opacity: 1; }
        100% { transform: scale(1.5); opacity: 0; }
    }
    
    .glitch-text {
        position: relative;
        font-size: 8rem;
        font-weight: 900;
        color: transparent;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        background-clip: text;
        animation: float-404 3s ease-in-out infinite;
    }
    
    .glitch-text::before,
    .glitch-text::after {
        content: '404';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    
    .glitch-text::before {
        color: #f43f5e;
        animation: glitch 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
        clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
        transform: translate(-2px, -1px);
        opacity: 0.8;
    }
    
    .glitch-text::after {
        color: #3b82f6;
        animation: glitch 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) reverse infinite;
        clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
        transform: translate(2px, 1px);
        opacity: 0.8;
    }
    
    .particle {
        position: fixed;
        width: 4px;
        height: 4px;
        background: rgba(59, 130, 246, 0.6);
        border-radius: 50%;
        pointer-events: none;
        animation: particle-float linear forwards;
    }
    
    .search-box {
        position: relative;
        transition: all 0.3s ease;
    }
    
    .search-box:focus-within {
        transform: scale(1.02);
    }
    
    .suggestion-card {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .suggestion-card:hover {
        transform: translateY(-8px) scale(1.02);
    }
    
    .pulse-ring {
        position: absolute;
        border: 2px solid rgba(59, 130, 246, 0.6);
        border-radius: 50%;
        animation: pulse-ring 2s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
    }
</style>
{% endblock %}

{% block content %}

<!-- 404 Hero Section -->
<section class="relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900">
    <!-- Animated Grid Background -->
    <div class="absolute inset-0 opacity-20">
        <div class="absolute inset-0" style="background-image: linear-gradient(rgba(255,255,255,.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,.05) 1px, transparent 1px); background-size: 50px 50px;"></div>
    </div>
    
    <!-- Floating Gradient Orbs -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div class="absolute top-1/4 left-10 w-96 h-96 bg-blue-500/30 rounded-full blur-3xl animate-blob"></div>
        <div class="absolute top-1/2 right-10 w-96 h-96 bg-purple-500/30 rounded-full blur-3xl animate-blob animation-delay-2000"></div>
        <div class="absolute bottom-1/4 left-1/2 w-96 h-96 bg-pink-500/30 rounded-full blur-3xl animate-blob animation-delay-4000"></div>
    </div>
    
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10 py-20">
        <div class="max-w-4xl mx-auto text-center">
            <!-- Glitch 404 Text -->
            <div class="relative mb-8" data-aos="zoom-in">
                <div class="glitch-text select-none">404</div>
                <!-- Pulse Rings -->
                <div class="pulse-ring" style="width: 300px; height: 300px; top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
                <div class="pulse-ring" style="width: 300px; height: 300px; top: 50%; left: 50%; transform: translate(-50%, -50%); animation-delay: 0.5s;"></div>
            </div>
            
            <!-- Error Message -->
            <div class="mb-8" data-aos="fade-up" data-aos-delay="200">
                <h1 class="text-4xl sm:text-5xl lg:text-6xl font-display font-bold text-white mb-4">
                    Oops! Page Not Found
                </h1>
                <p class="text-xl sm:text-2xl text-gray-300 mb-2">
                    The page you're looking for seems to have vanished into the digital void.
                </p>
                <p class="text-lg text-gray-400">
                    Error Code: <span class="text-red-400 font-mono">HTTP 404</span>
                </p>
            </div>
            
            <!-- Fun Message Rotator -->
            <div class="mb-12" data-aos="fade-up" data-aos-delay="300">
                <div class="p-6 bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl inline-block">
                    <p id="rotating-message" class="text-white text-lg italic"></p>
                </div>
            </div>
            
            <!-- Search Box -->
            <div class="max-w-2xl mx-auto mb-12" data-aos="fade-up" data-aos-delay="400">
                <form method="get" action="{% url 'search' %}" class="search-box">
                    <div class="relative group">
                        <div class="absolute inset-y-0 left-0 pl-6 flex items-center pointer-events-none">
                            <i class="fas fa-search text-gray-400 text-xl group-focus-within:text-blue-400 transition-colors"></i>
                        </div>
                        <input type="text" 
                               name="q" 
                               placeholder="Search for what you need..." 
                               class="w-full pl-16 pr-6 py-5 text-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white rounded-2xl shadow-2xl focus:ring-4 focus:ring-blue-500 focus:outline-none transition-all"
                               autofocus>
                        <button type="submit" 
                                class="absolute right-2 top-2 bottom-2 px-6 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl font-semibold transition-all hover:scale-105 flex items-center gap-2">
                            <i class="fas fa-search"></i>
                            <span class="hidden sm:inline">Search</span>
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Quick Actions -->
            <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-12" data-aos="fade-up" data-aos-delay="500">
                <a href="{% url 'home' %}" 
                   class="group p-6 bg-white/10 backdrop-blur-md border border-white/20 hover:bg-white/20 rounded-2xl transition-all hover:scale-105">
                    <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-4 mx-auto group-hover:rotate-12 transition-transform">
                        <i class="fas fa-home text-white text-xl"></i>
                    </div>
                    <h3 class="text-white font-semibold mb-2">Home</h3>
                    <p class="text-gray-300 text-sm">Back to safety</p>
                </a>
                
                <a href="{% url 'projects' %}" 
                   class="group p-6 bg-white/10 backdrop-blur-md border border-white/20 hover:bg-white/20 rounded-2xl transition-all hover:scale-105">
                    <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mb-4 mx-auto group-hover:rotate-12 transition-transform">
                        <i class="fas fa-folder text-white text-xl"></i>
                    </div>
                    <h3 class="text-white font-semibold mb-2">Projects</h3>
                    <p class="text-gray-300 text-sm">View my work</p>
                </a>
                
                <a href="{% url 'blog' %}" 
                   class="group p-6 bg-white/10 backdrop-blur-md border border-white/20 hover:bg-white/20 rounded-2xl transition-all hover:scale-105">
                    <div class="w-12 h-12 bg-gradient-to-br from-pink-500 to-pink-600 rounded-xl flex items-center justify-center mb-4 mx-auto group-hover:rotate-12 transition-transform">
                        <i class="fas fa-newspaper text-white text-xl"></i>
                    </div>
                    <h3 class="text-white font-semibold mb-2">Blog</h3>
                    <p class="text-gray-300 text-sm">Read articles</p>
                </a>
                
                <a href="{% url 'contact' %}" 
                   class="group p-6 bg-white/10 backdrop-blur-md border border-white/20 hover:bg-white/20 rounded-2xl transition-all hover:scale-105">
                    <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mb-4 mx-auto group-hover:rotate-12 transition-transform">
                        <i class="fas fa-envelope text-white text-xl"></i>
                    </div>
                    <h3 class="text-white font-semibold mb-2">Contact</h3>
                    <p class="text-gray-300 text-sm">Get in touch</p>
                </a>
            </div>
            
            <!-- Primary CTA -->
            <div data-aos="fade-up" data-aos-delay="600">
                <a href="{% url 'home' %}" 
                   class="inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white text-lg font-bold rounded-full shadow-2xl hover:shadow-blue-500/50 transition-all hover:scale-105">
                    <i class="fas fa-home"></i>
                    Take Me Home
                    <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>
    </div>
    
    <!-- Scroll Indicator -->
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
        <i class="fas fa-chevron-down text-white/50 text-3xl"></i>
    </div>
</section>

<!-- Popular Content Section -->
<section class="py-20 bg-white dark:bg-gray-900">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-6xl mx-auto">
            <!-- Section Header -->
            <div class="text-center mb-16" data-aos="fade-up">
                <h2 class="text-4xl sm:text-5xl font-display font-bold mb-4">
                    While You're Here...
                </h2>
                <p class="text-xl text-gray-600 dark:text-gray-400">
                    Check out some popular content you might be interested in
                </p>
            </div>
            
            <!-- Popular Suggestions Grid -->
            <div class="grid md:grid-cols-3 gap-8">
                <!-- Projects Suggestion -->
                <div class="suggestion-card group" data-aos="fade-up" data-aos-delay="100">
                    <a href="{% url 'projects' %}" 
                       class="block p-8 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900 dark:to-indigo-900 rounded-3xl border-2 border-blue-200 dark:border-blue-700 shadow-lg hover:shadow-2xl">
                        <div class="relative mb-6">
                            <div class="w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center group-hover:scale-110 group-hover:rotate-6 transition-all">
                                <i class="fas fa-folder text-white text-4xl"></i>
                            </div>
                            <div class="absolute -top-2 -right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center text-xs font-bold animate-pulse">
                                NEW
                            </div>
                        </div>
                        <h3 class="text-2xl font-bold mb-3 text-blue-900 dark:text-blue-100">
                            Featured Projects
                        </h3>
                        <p class="text-blue-800 dark:text-blue-200 mb-6">
                            Explore my latest work and case studies showcasing innovative solutions
                        </p>
                        <div class="flex items-center gap-2 text-blue-600 dark:text-blue-400 font-semibold group-hover:gap-3 transition-all">
                            View Projects
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </a>
                </div>
                
                <!-- Blog Suggestion -->
                <div class="suggestion-card group" data-aos="fade-up" data-aos-delay="200">
                    <a href="{% url 'blog' %}" 
                       class="block p-8 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900 dark:to-pink-900 rounded-3xl border-2 border-purple-200 dark:border-purple-700 shadow-lg hover:shadow-2xl">
                        <div class="w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 group-hover:rotate-6 transition-all">
                            <i class="fas fa-newspaper text-white text-4xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold mb-3 text-purple-900 dark:text-purple-100">
                            Latest Articles
                        </h3>
                        <p class="text-purple-800 dark:text-purple-200 mb-6">
                            Read insights on web development, design trends, and technology
                        </p>
                        <div class="flex items-center gap-2 text-purple-600 dark:text-purple-400 font-semibold group-hover:gap-3 transition-all">
                            Read Blog
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </a>
                </div>
                
                <!-- Services Suggestion -->
                <div class="suggestion-card group" data-aos="fade-up" data-aos-delay="300">
                    <a href="{% url 'services' %}" 
                       class="block p-8 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900 dark:to-emerald-900 rounded-3xl border-2 border-green-200 dark:border-green-700 shadow-lg hover:shadow-2xl">
                        <div class="w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 group-hover:rotate-6 transition-all">
                            <i class="fas fa-briefcase text-white text-4xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold mb-3 text-green-900 dark:text-green-100">
                            My Services
                        </h3>
                        <p class="text-green-800 dark:text-green-200 mb-6">
                            Discover professional services tailored to your business needs
                        </p>
                        <div class="flex items-center gap-2 text-green-600 dark:text-green-400 font-semibold group-hover:gap-3 transition-all">
                            View Services
                            <i class="fas fa-arrow-right"></i>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Help Section -->
<section class="py-20 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-4xl mx-auto">
            <!-- Help Card -->
            <div class="p-8 sm:p-12 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700" data-aos="zoom-in">
                <div class="text-center mb-8">
                    <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-500 to-red-500 rounded-full mb-6">
                        <i class="fas fa-question text-white text-4xl"></i>
                    </div>
                    <h2 class="text-3xl sm:text-4xl font-display font-bold mb-4">
                        Still Can't Find What You Need?
                    </h2>
                    <p class="text-lg text-gray-600 dark:text-gray-400">
                        Don't worry! I'm here to help. Let me know what you're looking for.
                    </p>
                </div>
                
                <div class="grid sm:grid-cols-2 gap-6">
                    <a href="{% url 'contact' %}" 
                       class="group p-6 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900 dark:to-indigo-900 rounded-2xl border border-blue-200 dark:border-blue-700 hover:shadow-lg transition-all hover:-translate-y-1">
                        <div class="flex items-start gap-4">
                            <div class="w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform">
                                <i class="fas fa-envelope text-white text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg mb-2 text-blue-900 dark:text-blue-100">Contact Me</h3>
                                <p class="text-sm text-blue-800 dark:text-blue-200">Send me a message and I'll help you find what you're looking for</p>
                            </div>
                        </div>
                    </a>
                    
                    <a href="{% url 'search' %}" 
                       class="group p-6 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900 dark:to-pink-900 rounded-2xl border border-purple-200 dark:border-purple-700 hover:shadow-lg transition-all hover:-translate-y-1">
                        <div class="flex items-start gap-4">
                            <div class="w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform">
                                <i class="fas fa-search text-white text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg mb-2 text-purple-900 dark:text-purple-100">Try Searching</h3>
                                <p class="text-sm text-purple-800 dark:text-purple-200">Use our search feature to find specific content across the site</p>
                            </div>
                        </div>
                    </a>
                </div>
                
                <!-- Social Links -->
                <div class="mt-8 pt-8 border-t border-gray-200 dark:border-gray-700 text-center">
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">Or connect with me on social media:</p>
                    <div class="flex justify-center gap-4">
                        {% if site_settings.github_url %}
                        <a href="{{ site_settings.github_url }}" target="_blank" 
                           class="w-12 h-12 bg-gray-800 hover:bg-gray-900 text-white rounded-xl flex items-center justify-center transition-all hover:scale-110">
                            <i class="fab fa-github text-xl"></i>
                        </a>
                        {% endif %}
                        {% if site_settings.linkedin_url %}
                        <a href="{{ site_settings.linkedin_url }}" target="_blank" 
                           class="w-12 h-12 bg-blue-600 hover:bg-blue-700 text-white rounded-xl flex items-center justify-center transition-all hover:scale-110">
                            <i class="fab fa-linkedin text-xl"></i>
                        </a>
                        {% endif %}
                        {% if site_settings.twitter_url %}
                        <a href="{{ site_settings.twitter_url }}" target="_blank" 
                           class="w-12 h-12 bg-sky-500 hover:bg-sky-600 text-white rounded-xl flex items-center justify-center transition-all hover:scale-110">
                            <i class="fab fa-twitter text-xl"></i>
                        </a>
                        {% endif %}
                        <a href="mailto:{{ site_settings.email }}" 
                           class="w-12 h-12 bg-red-500 hover:bg-red-600 text-white rounded-xl flex items-center justify-center transition-all hover:scale-110">
                            <i class="fas fa-envelope text-xl"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}

{% block extra_js %}
<script>
// Initialize AOS
AOS.init({
    duration: 800,
    once: true,
    offset: 100
});

// Rotating fun messages
const messages = [
    "This page is taking a vacation. It'll be back... maybe.",
    "The page you seek has achieved enlightenment and left this mortal website.",
    "404: Page not found. But you found this cool error page!",
    "Looks like this page went to grab coffee and never came back.",
    "This page is playing hide and seek. It's winning.",
    "Error 404: The page has left the building.",
    "You've discovered the internet's lost and found!",
    "This URL leads to nowhere... which is somewhere, technically.",
    "The hamsters powering this page have gone on strike.",
    "Congratulations! You've found a page that doesn't exist. Achievement unlocked!"
];

let currentMessageIndex = 0;
const messageElement = document.getElementById('rotating-message');

function rotateMessage() {
    if (messageElement) {
        messageElement.style.opacity = '0';
        setTimeout(() => {
            currentMessageIndex = (currentMessageIndex + 1) % messages.length;
            messageElement.textContent = messages[currentMessageIndex];
            messageElement.style.opacity = '1';
        }, 300);
    }
}

// Initial message
if (messageElement) {
    messageElement.textContent = messages[0];
    messageElement.style.transition = 'opacity 0.3s';
    // Rotate every 4 seconds
    setInterval(rotateMessage, 4000);
}

// Particle effect
function createParticle() {
    const particle = document.createElement('div');
    particle.className = 'particle';
    particle.style.left = Math.random() * 100 + 'vw';
    particle.style.animationDuration = (Math.random() * 3 + 2) + 's';
    particle.style.animationDelay = Math.random() * 2 + 's';
    
    const colors = ['rgba(59, 130, 246, 0.6)', 'rgba(139, 92, 246, 0.6)', 'rgba(236, 72, 153, 0.6)'];
    particle.style.background = colors[Math.floor(Math.random() * colors.length)];
    
    document.body.appendChild(particle);
    
    setTimeout(() => particle.remove(), 5000);
}

// Create particles periodically
setInterval(createParticle, 300);

// Easter egg: Konami code
let konamiCode = [];
const konamiSequence = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];

document.addEventListener('keydown', (e) => {
    konamiCode.push(e.key);
    konamiCode = konamiCode.slice(-10);
    
    if (konamiCode.join('') === konamiSequence.join('')) {
        // Easter egg activated!
        document.body.style.transform = 'rotate(360deg)';
        document.body.style.transition = 'transform 2s';
        
        setTimeout(() => {
            document.body.style.transform = '';
        }, 2000);
        
        // Show secret message
        const secret = document.createElement('div');
        secret.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-8 py-4 rounded-2xl font-bold text-2xl shadow-2xl z-50 animate-bounce';
        secret.textContent = 'ðŸŽ‰ Konami Code! You found the secret! ðŸŽ‰';
        document.body.appendChild(secret);
        
        setTimeout(() => secret.remove(), 3000);
        
        konamiCode = [];
    }
});

// Log 404 for analytics
console.log('%c404 Error Logged', 'color: #f43f5e; font-size: 20px; font-weight: bold;');
console.log('Attempted URL:', window.location.href);
console.log('Referrer:', document.referrer || 'Direct');
console.log('Timestamp:', new Date().toISOString());

// You can send this to your analytics service
if (typeof gtag !== 'undefined') {
    gtag('event', 'page_not_found', {
        'page_path': window.location.pathname,
        'referrer': document.referrer
    });
}
</script>
{% endblock %}